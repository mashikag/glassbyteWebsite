<html ng-app>
<head>
  <link rel="stylesheet" type="text/css" href="styles/style.css">
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
  <script>
	var showMenu = false;
	function restartMenuAnimation(ev){
		if (showMenu && ev == "mouseleave" || !showMenu && ev == "mouseover") {
			showMenu = !showMenu;
			
      refreshBoxElements();
      
      refreshMenuLabelsElements();
			
			console.log("restartMenuAnimation");
		}
	}
  
  /*for animation restart*/
  function refreshBoxElements(){
    var boxCount = 8;
    var imgSrc = "logo/box-300px.png";
    if (showMenu) {
      for ( i = 1; i <= boxCount; i++) {
        var newEl = document.createElement("img");
        newEl.src = imgSrc;
        newEl.className += ' menu-box';
        newEl.className += ' menu-box' + i;
        newEl.className += ' show-menu-box' + i;
        var el = document.getElementsByClassName("menu-box menu-box"+i)[0];
        console.log(newEl + "\n" + el);
        el.parentNode.replaceChild(newEl, el);
      }
    } else {
      for ( i = 1; i <= boxCount; i++) {
        var newEl = document.createElement("img");
        newEl.src = imgSrc;
        newEl.className += ' menu-box';
        newEl.className += ' menu-box' + i;
        newEl.className += ' hide-menu-box' + i;
        var el = document.getElementsByClassName("menu-box menu-box"+i)[0];
        console.log(newEl + "\n" + el);
        el.parentNode.replaceChild(newEl, el);
        
      }
    }
  }
  
  /*for animation restart*/
  function refreshMenuLabelsElements(){
    console.log("refreshMenuLabelsElements() Refreshing menu labels elements.");
    
    var menuItems = 
      [
        "menu-item-middle-right",
        "menu-item-middle-left",
        "menu-item-west-right",
        "menu-item-west-left",
        "menu-item-east-right",
        "menu-item-east-left"
      ];
      
    var menuItemLabels = 
      [
        "Products",
        "About",
        "Contact"
      ];
      
    var labelIndex = 0;
    
    if (showMenu) {
      for (menuItem of menuItems) {
        /*Create new menu item element that will replace the old one to restart the animation*/
        var newMenuItemEl = document.createElement("MENUITEM");
        newMenuItemEl.label = menuItemLabels[Math.floor(labelIndex/2)];
        newMenuItemEl.className += ' menu-item';
        newMenuItemEl.className += ' show-' + menuItem;
        newMenuItemEl.className += ' slide-up';
        newMenuItemEl.appendChild(document.createTextNode(menuItemLabels[Math.floor(labelIndex/2)]));
        
        /*Create new menu item element that will replace the old one to restart the animation*/
        var curMenuItemEl = document.getElementsByClassName("hide-" + menuItem)[0];
        curMenuItemEl.parentNode.replaceChild(newMenuItemEl, curMenuItemEl);
        
        console.log("refreshMenuLabelsElements() Replaced  " + menuItem + " - label: " + menuItemLabels[Math.floor(labelIndex/2)]);
        
        labelIndex++;
      }
    }
    else {
      for (menuItem of menuItems) {
        /*Create new menu item element that will replace the old one to restart the animation*/
        var newMenuItemEl = document.createElement("menuitem");
        newMenuItemEl.label = menuItemLabels[Math.floor(labelIndex/2)];
        newMenuItemEl.className += ' menu-item';
        newMenuItemEl.className += ' hide-' + menuItem;
        newMenuItemEl.className += ' slide-down';
        newMenuItemEl.appendChild(document.createTextNode(menuItemLabels[Math.floor(labelIndex/2)]));
        
        /*Create new menu item element that will replace the old one to restart the animation*/
        var curMenuItemEl = document.getElementsByClassName("show-" + menuItem)[0];
        curMenuItemEl.parentNode.replaceChild(newMenuItemEl, curMenuItemEl);
        
        console.log("refreshMenuLabelsElements() Replaced  " + menuItem + " - label: " + menuItemLabels[Math.floor(labelIndex/2)]);
        
        labelIndex++;
      }
    }
  }
  
  
  </script>
</head>
<body>
	<div id="intro" class="main-region">
		<div id="menu-wrapper" onmouseover="restartMenuAnimation('mouseover')" onmouseleave="restartMenuAnimation('mouseleave')">
			<img src="logo/box-300px.png" class="menu-box menu-box1">
			<img src="logo/box-300px.png" class="menu-box menu-box2">
			<img src="logo/box-300px.png" class="menu-box menu-box3">
			<img src="logo/box-300px.png" class="menu-box menu-box4">
			<img src="logo/box-300px.png" class="menu-box menu-box5">
			<img src="logo/box-300px.png" class="menu-box menu-box6">
			<img src="logo/box-300px.png" class="menu-box menu-box7">
			<img src="logo/box-300px.png" class="menu-box menu-box8">
      <menu>
        <menuitem class="menu-item hide-menu-item-middle-left" label="Products" onClick="#products">
          Products
        </menuitem>
        <menuitem class="menu-item hide-menu-item-middle-right" label="Products" onClick="#products">
          Products
        </menuitem>
        <menuitem class="menu-item hide-menu-item-east-left" label="About" onClick="#about">
          Contact
        </menuitem>
        <menuitem class="menu-item hide-menu-item-east-right" label="About" onClick="#about">
          Contact
        </menuitem>
        <menuitem class="menu-item hide-menu-item-west-right" label="Contact" onClick="#contact">
          About
        </menuitem>
        <menuitem class="menu-item hide-menu-item-west-left" label="Contact" onClick="#contact">
          About
        </menuitem>
      </menu>
		</div>
	</div>
  <div id="products" class="main-region">
  
  </div>
  <div id="about" class="main-region">
  
  </div>
  <div id="contact" class="main-region">
  </div>
  <footer>
  </footer>
</body>
</html>
